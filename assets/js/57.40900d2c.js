(window.webpackJsonp=window.webpackJsonp||[]).push([[57],{583:function(s,n,a){"use strict";a.r(n);var e=a(3),t=Object(e.a)({},(function(){var s=this,n=s.$createElement,a=s._self._c||n;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"title"}),a("h2",{attrs:{id:"前言"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#前言"}},[s._v("#")]),s._v(" 前言")]),s._v(" "),a("h4",{attrs:{id:"今天在处理一个遮罩层-弹框时-发现火狐游览器中-position-fixed-固定定位的高度设置100-等于文档的高度-而其他游览器-谷歌-ie-等于显示屏可视区域高度。由于在火狐游览器中高度过高-定位的弹框上下居中-导致弹框的定位偏下。这个问题可头疼了一会儿。"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#今天在处理一个遮罩层-弹框时-发现火狐游览器中-position-fixed-固定定位的高度设置100-等于文档的高度-而其他游览器-谷歌-ie-等于显示屏可视区域高度。由于在火狐游览器中高度过高-定位的弹框上下居中-导致弹框的定位偏下。这个问题可头疼了一会儿。"}},[s._v("#")]),s._v(" 今天在处理一个遮罩层 + 弹框时，发现火狐游览器中，position: fixed；固定定位的高度设置100%，等于文档的高度，而其他游览器(谷歌，ie)等于显示屏可视区域高度。由于在火狐游览器中高度过高，定位的弹框上下居中，导致弹框的定位偏下。这个问题可头疼了一会儿。")])]),a("h4",{attrs:{id:"先写一个简单demo模拟下。"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#先写一个简单demo模拟下。"}},[s._v("#")]),s._v(" 先写一个简单demo模拟下。")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v('    .mask {\n      position: fixed;\n      width: 100%;\n      height: 100%;\n      background-color: rgba(0, 0, 0, 0.5);\n      top: 0;\n      left: 0;\n      z-index: 999;\n    }\n\n    .artdialog {\n      position: absolute;\n      top: 50%;\n      left: 50%;\n      transform: translate(-50%, -50%);\n      width: 650px;\n      height: 480px;\n      background-color: pink;\n    }\n\n<div class="mask">\n  <div class="artdialog">\n    文字内容\n  </div>\n</div>\n')])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br"),a("span",{staticClass:"line-number"},[s._v("22")]),a("br"),a("span",{staticClass:"line-number"},[s._v("23")]),a("br"),a("span",{staticClass:"line-number"},[s._v("24")]),a("br"),a("span",{staticClass:"line-number"},[s._v("25")]),a("br")])]),a("h4",{attrs:{id:"这时通过demo会发现-火狐的固定定位高度100-就是显示屏可视区域高度-这个问题不存在。-经过研究-删除-注释发现-是给html添加了-webkit-filter-导致了固定定位的高度产生变化-原因还不清楚-但问题确实存在。-那么问题更新了-当需要给html添加滤镜样式时-如何访问火狐游览器使一个页面有遮罩层和垂直居中游览器中心的弹框呢"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#这时通过demo会发现-火狐的固定定位高度100-就是显示屏可视区域高度-这个问题不存在。-经过研究-删除-注释发现-是给html添加了-webkit-filter-导致了固定定位的高度产生变化-原因还不清楚-但问题确实存在。-那么问题更新了-当需要给html添加滤镜样式时-如何访问火狐游览器使一个页面有遮罩层和垂直居中游览器中心的弹框呢"}},[s._v("#")]),s._v(" 这时通过demo会发现，火狐的固定定位高度100%，就是显示屏可视区域高度，这个问题不存在。 经过研究，删除，注释发现，是给html添加了-webkit-filter 导致了固定定位的高度产生变化， 原因还不清楚，但问题确实存在。 那么问题更新了： 当需要给html添加滤镜样式时，如何访问火狐游览器使一个页面有遮罩层和垂直居中游览器中心的弹框呢？")]),s._v(" "),a("h4",{attrs:{id:"首先想到就是火狐游览器fixed的高度是文档的高度-那么我们把这个高度通过js改变成游览器可视区域高度不就完事了-操作起来"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#首先想到就是火狐游览器fixed的高度是文档的高度-那么我们把这个高度通过js改变成游览器可视区域高度不就完事了-操作起来"}},[s._v("#")]),s._v(" 首先想到就是火狐游览器fixed的高度是文档的高度，那么我们把这个高度通过js改变成游览器可视区域高度不就完事了？ 操作起来：")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("  $(\".mask\").css({\n    'height': $(window).height()\n  });\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br")])]),a("h4",{attrs:{id:"然后发现页面进来弹框确实在屏幕正中间-然而随着鼠标往下滚动-发现下面-露馅-啦-遮罩层的效果只存在一个屏幕的宽度和高度-超过这个高度的内容都没有被遮罩层的背景色遮挡住。-方案a失败。"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#然后发现页面进来弹框确实在屏幕正中间-然而随着鼠标往下滚动-发现下面-露馅-啦-遮罩层的效果只存在一个屏幕的宽度和高度-超过这个高度的内容都没有被遮罩层的背景色遮挡住。-方案a失败。"}},[s._v("#")]),s._v(" 然后发现页面进来弹框确实在屏幕正中间，然而随着鼠标往下滚动，发现下面“露馅”啦，遮罩层的效果只存在一个屏幕的宽度和高度，超过这个高度的内容都没有被遮罩层的背景色遮挡住。 方案A失败。")]),s._v(" "),a("h4",{attrs:{id:"接着自己试了几次改变定位方式-还是不行。-只能和老大商量-当游览器是火狐游览器时-先取消滚动事件-当关闭遮罩层和弹框后-再次开启滚动事件。-于是有了方案b。"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#接着自己试了几次改变定位方式-还是不行。-只能和老大商量-当游览器是火狐游览器时-先取消滚动事件-当关闭遮罩层和弹框后-再次开启滚动事件。-于是有了方案b。"}},[s._v("#")]),s._v(" 接着自己试了几次改变定位方式， 还是不行。  只能和老大商量，当游览器是火狐游览器时，先取消滚动事件，当关闭遮罩层和弹框后，再次开启滚动事件。 于是有了方案B。")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("(function ($, window, document, undefined) {\n  if (!window.browser) {\n\n    var userAgent = navigator.userAgent.toLowerCase(),\n      uaMatch;\n    window.browser = {}\n    /**\n      * 判断是否为火狐浏览器\n      */\n    if (!uaMatch) {\n      uaMatch = userAgent.match(/firefox\\/([\\d.]+)/);\n      if (uaMatch != null) {\n        window.browser['name'] = 'firefox';\n        window.browser['version'] = uaMatch[1];\n      }\n    }\n\n    if (!$.isFirefox) {\n      $.extend({\n        isFirefox: function () {\n          if (window.browser.name == 'firefox') {\n            console.log('is Firefox');\n            jQuery('#Mourning_mask').css({\n              'height': jQuery(window).height()\n            });\n            document.body.style.overflow = 'hidden';\n          }\n        }\n      });\n    }\n  }\n})(jQuery, window, document);\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br"),a("span",{staticClass:"line-number"},[s._v("22")]),a("br"),a("span",{staticClass:"line-number"},[s._v("23")]),a("br"),a("span",{staticClass:"line-number"},[s._v("24")]),a("br"),a("span",{staticClass:"line-number"},[s._v("25")]),a("br"),a("span",{staticClass:"line-number"},[s._v("26")]),a("br"),a("span",{staticClass:"line-number"},[s._v("27")]),a("br"),a("span",{staticClass:"line-number"},[s._v("28")]),a("br"),a("span",{staticClass:"line-number"},[s._v("29")]),a("br"),a("span",{staticClass:"line-number"},[s._v("30")]),a("br"),a("span",{staticClass:"line-number"},[s._v("31")]),a("br"),a("span",{staticClass:"line-number"},[s._v("32")]),a("br")])]),a("h4",{attrs:{id:"但是在edge游览器中-会报错。-然后又改进了方法。"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#但是在edge游览器中-会报错。-然后又改进了方法。"}},[s._v("#")]),s._v(" 但是在edge游览器中，会报错。 然后又改进了方法。")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v(' function getOs() {\n  var OsObject = "";\n  if (navigator.userAgent.indexOf("MSIE") > 0) {\n    return "MSIE";\n  }\n  if (isFirefox = navigator.userAgent.indexOf("Firefox") > 0) {\n    return "Firefox";\n  }\n  if (isSafari = navigator.userAgent.indexOf("Safari") > 0) {\n    return "Safari";\n  }\n  if (isCamino = navigator.userAgent.indexOf("Camino") > 0) {\n    return "Camino";\n  }\n  if (isMozilla = navigator.userAgent.indexOf("Gecko/") > 0) {\n    return "Gecko";\n  }\n\n}\n\nif (getOs() == "Firefox") {\n  $(\'html,body\').css({\n    \'height\': $(window).height(),\n    \'overflow\': \'hidden\'\n  });\n}\n')])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br"),a("span",{staticClass:"line-number"},[s._v("22")]),a("br"),a("span",{staticClass:"line-number"},[s._v("23")]),a("br"),a("span",{staticClass:"line-number"},[s._v("24")]),a("br"),a("span",{staticClass:"line-number"},[s._v("25")]),a("br"),a("span",{staticClass:"line-number"},[s._v("26")]),a("br")])]),a("h4",{attrs:{id:"这样确实可以了。我就把这个解决方法搞上去了。效果是没问题了。可是我不甘心啊-折腾了个把小时-总觉得哪里不对。我又自己试了试用css解决。然后发现css解决很简单。"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#这样确实可以了。我就把这个解决方法搞上去了。效果是没问题了。可是我不甘心啊-折腾了个把小时-总觉得哪里不对。我又自己试了试用css解决。然后发现css解决很简单。"}},[s._v("#")]),s._v(" 这样确实可以了。我就把这个解决方法搞上去了。效果是没问题了。可是我不甘心啊，折腾了个把小时，总觉得哪里不对。我又自己试了试用css解决。然后发现css解决很简单。")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("@-moz-document url-prefix() {\n\n  html,\n  body {\n    position: relative;\n    width: 100%;\n    height: 100%;\n    overflow-y: auto;\n  }\n}\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br")])]),a("h4",{attrs:{id:"添加这段代码-使在火狐游览器时-给html和body一个相对定位-然后100-宽高-支持y轴滚动-这样就可以了。效果也不错。"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#添加这段代码-使在火狐游览器时-给html和body一个相对定位-然后100-宽高-支持y轴滚动-这样就可以了。效果也不错。"}},[s._v("#")]),s._v(" 添加这段代码，使在火狐游览器时，给html和body一个相对定位，然后100%宽高，支持y轴滚动，这样就可以了。效果也不错。")]),s._v(" "),a("h2",{attrs:{id:"总结"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#总结"}},[s._v("#")]),s._v(" 总结")]),s._v(" "),a("h4",{attrs:{id:"其实这个问题蛮简单-当时一时情急-没有往这个地方想-事后思考一下-就找到更简单的方法了。"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#其实这个问题蛮简单-当时一时情急-没有往这个地方想-事后思考一下-就找到更简单的方法了。"}},[s._v("#")]),s._v(" 其实这个问题蛮简单，当时一时情急，没有往这个地方想，事后思考一下，就找到更简单的方法了。")])])}),[],!1,null,null,null);n.default=t.exports}}]);